# -------------------- General Job/Task Manager Configuration --------------------
jobmanager.rpc.address: flink-jobmanager
jobmanager.web.address: flink-jobmanager
jobmanager.memory.process.size: 1024m

taskmanager.memory.process.size: 2048m
taskmanager.numberOfTaskSlots: 1

# -------------------- Prometheus Metrics Reporter Configuration --------------------
# 1. Enable the reporter (name it 'prom')
metrics.reporters: prom

# 2. Specify the reporter class (use both for modern setup compatibility)
metrics.reporter.prom.class: org.apache.flink.metrics.prometheus.PrometheusReporter
metrics.reporter.prom.factory.class: org.apache.flink.metrics.prometheus.PrometheusReporterFactory

# 3. Specify the metrics server details
# CRITICAL FIX: Binds the metrics server to all interfaces (0.0.0.0) so Prometheus can scrape it.
metrics.reporter.prom.host: 0.0.0.0
metrics.reporter.prom.port: 9251-9260

# -------------------- Other Ports --------------------
blob.server.port: 6124
query.server.port: 6125
latency-tracking.interval: 500